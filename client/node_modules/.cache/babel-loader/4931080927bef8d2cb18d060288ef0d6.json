{"ast":null,"code":"import _classCallCheck from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/yeng/Readsbox/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yeng/Readsbox/client/src/components/book/bookData.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Grid from '../grid';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport { connect } from 'react-redux';\nimport { updateBooks as _updateBooks } from '../../actions/simpleAction';\nvar API_KEY = 'AIzaSyCqFhKYDS8eyMpWykenvIWSG96pCAGqttU'; //var API_KEY = 'AIzaSyCe_fl6hNHl5dDVAmokI7X-mgb199BYmfE';\n\nfunction formatPicture(thumbnail) {\n  if (thumbnail === undefined) {\n    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Draw_book.png/1300px-Draw_book.png';\n  }\n\n  return thumbnail.thumbnail;\n}\n\nfunction formatTitle(title) {\n  if (title.length > 50) {\n    return title.slice(0, 50) + '.... ';\n  }\n\n  return title;\n}\n\nfunction formatDescription(description) {\n  if (description !== undefined && description.length > 300) {\n    return description.slice(0, 300) + ' ..... ';\n  } else if (description === undefined) {\n    return 'No description available.';\n  }\n\n  return description;\n}\n\nfunction formatAuthors(authors) {\n  if (authors == null) {\n    return [];\n  }\n\n  return authors;\n}\n\nfunction formatRating(rating) {\n  if (rating === undefined) {\n    return 'Ratings: N / A';\n  }\n\n  return 'Ratings: ' + rating + ' / 5';\n}\n\nfunction formatRatingsCount(ratings) {\n  if (ratings === undefined) {\n    return ' ';\n  }\n\n  return ratings + ' reviews';\n}\n\nfunction formatPageCount(pageCount) {\n  if (pageCount === undefined) {\n    return ' ';\n  }\n\n  return pageCount + ' pages';\n}\n\nfunction formatCategories(categories) {\n  if (categories == null) {\n    return [];\n  }\n\n  return categories;\n}\n\nfunction BookObject(id, title, subtitle, author, averageRating, description, thumbnail, infoLink, ratingsCount, pageCount, categories) {\n  this.id = id;\n  this.title = title;\n  this.subtitle = subtitle;\n  this.author = author;\n  this.averageRating = averageRating;\n  this.description = description;\n  this.thumbnail = thumbnail;\n  this.infoLink = infoLink;\n  this.ratingsCount = ratingsCount;\n  this.pageCount = pageCount;\n  this.categories = categories;\n}\n\nvar styles = function styles(theme) {\n  var _search;\n\n  return {\n    search: (_search = {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.blue, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.blue, 0.25)\n      },\n      marginLeft: 0,\n      width: '100%'\n    }, _defineProperty(_search, theme.breakpoints.up('sm'), {\n      marginLeft: theme.spacing.unit,\n      width: 'auto'\n    }), _defineProperty(_search, \"margin\", 10), _search),\n    searchIcon: {\n      width: theme.spacing.unit * 10,\n      height: '33px',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit',\n      width: '100%'\n    },\n    inputInput: _defineProperty({\n      paddingTop: theme.spacing.unit,\n      paddingRight: theme.spacing.unit,\n      paddingBottom: theme.spacing.unit,\n      paddingLeft: theme.spacing.unit * 10,\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }, theme.breakpoints.up('sm'), {\n      width: 120,\n      '&:focus': {\n        width: 200\n      }\n    })\n  };\n};\n\nvar BookData =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookData, _Component);\n\n  function BookData(props) {\n    var _this;\n\n    _classCallCheck(this, BookData);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BookData).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      _this.setState({\n        query: event.target.value\n      }, function () {\n        if (_this.state.query && _this.state.query.length >= 1) {\n          axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(_this.state.query, \"&key=\").concat(API_KEY)).then(function (res) {\n            var columns = [];\n            var listofBooks = {};\n\n            if (res.data.items !== undefined) {\n              res.data.items.forEach(function (element) {\n                var newBookID = element.id;\n                var item = element.volumeInfo;\n                var authors = [];\n\n                if (item.authors === undefined) {\n                  authors = null;\n                } else {\n                  authors = item.authors;\n                }\n\n                var newBook = new BookObject(newBookID, formatTitle(item.title), item.subtitle, formatAuthors(authors), formatRating(item.averageRating), formatDescription(item.description), formatPicture(item.imageLinks), item.infoLink, formatRatingsCount(item.ratingsCount), formatPageCount(item.pageCount), formatCategories(item.categories));\n                listofBooks[newBookID] = newBook;\n                columns.push(newBookID);\n              });\n            }\n\n            _this.props.updateBooks(listofBooks);\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      query: ' '\n    };\n    return _this;\n  }\n\n  _createClass(BookData, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.searchIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(SearchIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      })), React.createElement(InputBase, {\n        placeholder: \"Search for books\\u2026\",\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BookData;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateBooks: function updateBooks(books) {\n      return dispatch(_updateBooks(books));\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(BookData));","map":{"version":3,"sources":["/Users/yeng/Readsbox/client/src/components/book/bookData.js"],"names":["React","Component","axios","Grid","withStyles","fade","SearchIcon","InputBase","connect","updateBooks","API_KEY","formatPicture","thumbnail","undefined","formatTitle","title","length","slice","formatDescription","description","formatAuthors","authors","formatRating","rating","formatRatingsCount","ratings","formatPageCount","pageCount","formatCategories","categories","BookObject","id","subtitle","author","averageRating","infoLink","ratingsCount","styles","theme","search","position","borderRadius","shape","backgroundColor","palette","common","blue","marginLeft","width","breakpoints","up","spacing","unit","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","BookData","props","handleInputChange","event","setState","query","target","value","state","get","then","res","columns","listofBooks","data","items","forEach","element","newBookID","item","volumeInfo","newBook","imageLinks","push","classes","root","input","mapDispatchToProps","dispatch","books"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport Grid from '../grid'\nimport { withStyles } from '@material-ui/core/styles'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport SearchIcon from '@material-ui/icons/Search'\nimport InputBase from '@material-ui/core/InputBase'\nimport { connect } from 'react-redux'\nimport { updateBooks } from '../../actions/simpleAction'\n\nvar API_KEY = 'AIzaSyCqFhKYDS8eyMpWykenvIWSG96pCAGqttU'\n//var API_KEY = 'AIzaSyCe_fl6hNHl5dDVAmokI7X-mgb199BYmfE';\n\nfunction formatPicture(thumbnail) {\n  if (thumbnail === undefined) {\n    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Draw_book.png/1300px-Draw_book.png'\n  }\n\n  return thumbnail.thumbnail\n}\nfunction formatTitle(title) {\n  if (title.length > 50) {\n    return title.slice(0, 50) + '.... '\n  }\n  return title\n}\n\nfunction formatDescription(description) {\n  if (description !== undefined && description.length > 300) {\n    return description.slice(0, 300) + ' ..... '\n  } else if (description === undefined) {\n    return 'No description available.'\n  }\n  return description\n}\n\nfunction formatAuthors(authors) {\n  if (authors == null) {\n    return []\n  }\n  return authors\n}\n\nfunction formatRating(rating) {\n  if (rating === undefined) {\n    return 'Ratings: N / A'\n  }\n\n  return 'Ratings: ' + rating + ' / 5'\n}\n\nfunction formatRatingsCount(ratings) {\n  if (ratings === undefined) {\n    return ' '\n  }\n\n  return ratings + ' reviews'\n}\n\nfunction formatPageCount(pageCount) {\n  if (pageCount === undefined) {\n    return ' '\n  }\n\n  return pageCount + ' pages'\n}\n\nfunction formatCategories(categories) {\n  if (categories == null) {\n    return []\n  }\n\n  return categories\n}\n\nfunction BookObject(\n  id,\n  title,\n  subtitle,\n  author,\n  averageRating,\n  description,\n  thumbnail,\n  infoLink,\n  ratingsCount,\n  pageCount,\n  categories\n) {\n  this.id = id\n  this.title = title\n  this.subtitle = subtitle\n  this.author = author\n  this.averageRating = averageRating\n  this.description = description\n  this.thumbnail = thumbnail\n  this.infoLink = infoLink\n  this.ratingsCount = ratingsCount\n  this.pageCount = pageCount\n  this.categories = categories\n}\n\nconst styles = theme => ({\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.blue, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.blue, 0.25)\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing.unit,\n      width: 'auto'\n    },\n    margin: 10\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 10,\n    height: '33px',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '100%'\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200\n      }\n    }\n  }\n})\n\nclass BookData extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ' '\n    }\n  }\n\n  handleInputChange = event => {\n    this.setState({ query: event.target.value }, () => {\n      if (this.state.query && this.state.query.length >= 1) {\n        axios\n          .get(\n            `https://www.googleapis.com/books/v1/volumes?q=${\n              this.state.query\n            }&key=${API_KEY}`\n          )\n          .then(res => {\n            var columns = []\n            var listofBooks = {}\n\n            if (res.data.items !== undefined) {\n              res.data.items.forEach(function(element) {\n                var newBookID = element.id\n                var item = element.volumeInfo\n                var authors = []\n\n                if (item.authors === undefined) {\n                  authors = null\n                } else {\n                  authors = item.authors\n                }\n\n                var newBook = new BookObject(\n                  newBookID,\n                  formatTitle(item.title),\n                  item.subtitle,\n                  formatAuthors(authors),\n                  formatRating(item.averageRating),\n                  formatDescription(item.description),\n                  formatPicture(item.imageLinks),\n                  item.infoLink,\n                  formatRatingsCount(item.ratingsCount),\n                  formatPageCount(item.pageCount),\n                  formatCategories(item.categories)\n                )\n\n                listofBooks[newBookID] = newBook\n                columns.push(newBookID)\n              })\n            }\n            this.props.updateBooks(listofBooks)\n          })\n      }\n    })\n  }\n\n  render() {\n    const { classes } = this.props\n\n    return (\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Search for booksâ€¦\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput\n          }}\n          onChange={this.handleInputChange}\n        />\n        <Grid />\n      </div>\n    )\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateBooks: books => dispatch(updateBooks(books))\n  }\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(withStyles(styles)(BookData))\n"]},"metadata":{},"sourceType":"module"}